<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="com.art.app.base.system.dao.DeptUserDao">
 	
    <select id="selectDeptUserList" resultType="com.art.app.base.system.domain.DeptUserVO">
        SELECT b.site_id, a.dept_id, a.dept_name, a.dept_code, a.parent_dept_id, '' nick_name, a.etc_info, a.description
		FROM   tco_dept a
		       INNER JOIN tco_comp b
		         ON a.comp_id = b.comp_id
		UNION ALL
		SELECT za.site_id, za.user_id, za.user_name, '' , zb.dept_id , za.user_nick_name, za.etc_info, za.description 
		FROM   tco_user za
		       LEFT OUTER JOIN tco_dept_user zb
		         ON za.user_id = zb.user_id 
		WHERE  za.user_status =  #{userStatus}
    </select>
    
</mapper> 
