<!DOCTYPE html>
<html lang="ko">
	<head>
        <meta charset="utf-8">
        <title></title>
        <meta name="description" content="">
        <meta name="author" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        
        <link rel="stylesheet" type="text/css" media="screen" href="libs/bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" media="screen" href="libs/font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" media="screen" href="libs/metis/css/main.min.css">
        
        
        <link rel="stylesheet" type="text/css" media="screen" href="libs/alertify/css/alertify.core.css">
        <link rel="stylesheet" type="text/css" media="screen" href="libs/alertify/css/alertify.default.css">
        
        
        <link rel="stylesheet" type="text/css" media="screen" href="css/art-common.css">
        <link rel="stylesheet" type="text/css" media="screen" href="css/art-contents.css">
        
        <script src="libs/jquery/jquery-1.11.3.min.js"></script>
        <script src="libs/bootstrap/js/bootstrap.min.js"></script>
		<script>
		  
		var login = function(  ) {
			
			var _els = {};
			var _addAction = function() {
				_els.btnSend.click(function(event){
					
					$.ajax({
                        dataType: "json",
                        url: 'http://u1erp.com/rest/login/external/ERP/Temp/data',
                        type: "GET",
                        success: function(data){
                            console.log(data);
                        }
                    });
					
					/*
					console.log("DDDDDDDDDDDDDDDD");
					var frm = document.ws_login;
					frm.method = "POST";
					frm.action  = "http://127.0.0.1:8080/rest/login/external/ERP/Temp/data";
					frm.target  = "_blank";
					frm.submit();
					*/
                });
			}
			
			this.setup = function() {
                _els.area = $("#tmpl-ws_login");
                
                _els.btnSend = _els.area.find(".btn-send");
                
                _addAction();
            };
		};
		
	    var erpIF = function(  ) {
            
            var _els = {};
            var _addAction = function() {
            	
            	 //_els.btnSend.click(function(event){
            	//	 console.log("AAA");
	            //	$("#ws_erp_if").submit(function() {
	             //       $.post("/rest/login/external/ERP/ApprDoc/page", $("#ws_erp_if").serialize()) 
	              //      .done(function(data) {
	              //          if (data.trim().length >0)
	               //         {
	                //            $("#sent").text("Error");   
	                 //       }
	                  //      else {
	                   //     $("#sent").text("Success");
	                    //    }
	                    //});
	                    //return false;
	                //})
            	 //});
                
                /*
                _els.btnSend.click(function(event){
                    var frm = document.ws_erp_if;
                    var submitFrm = document.ws_erp_if_submit;
                    //frm.reqData.value = JSON.stringify({
                    //	"DOC_TITLE" : frm.docTitle.value,
                    //	"DOC_CONTENTS"  : frm.docCntn.value,
                    //	"AP_FORM_NO"  : frm.erpFormNo.value,
                     //   "CALL_OUT_URL1"  : frm.callUrl1.value,
                     //   "IS_URGENT"  : frm.urgentYn.value,
                     //   "KEEP_YEAR"  : frm.keepYear.value,
                    //})
                    
                    var frmArry = $("#ws_erp_if").serializeArray();
                    var frmObj = {};
                    $.each(frmArry,function(i, v) {
                    	frmObj[v.name] = v.value;
                    });
                    
                    console.log(JSON.stringify(frmObj));
                    
                    $.ajax({
                        dataType: "jsonp",
                        url: 'http://mail.erpdom.com/rest/login/external/encrypt/getKey?callback=?',
                        type: "GET",
                        success: function(data){
                        	console.log(data);
                            
                            $.get("http://mail.erpdom.com/rest/login/external/ERP/ApprDoc/getEncData", {
                                encodeKey : data.encodeKey,
                                indexEncode :  data.indexEncode,
                                indexIv :  data.indexIv,
                                sessionKeyId : data.sessionKeyId,
                                jsonData : JSON.stringify(frmObj)
                            }).done(function(paramData){
                                console.log(paramData);
                                
                                var paramObj = JSON.parse(paramData);
                                console.log(paramObj);
                                submitFrm.jsonData.value = paramObj.encData;
                                submitFrm.method = "POST";
                                submitFrm.action  = "http://mail.erpdom.com/rest/login/external/ERP/ApprDoc/page";
                                submitFrm.target  = "_new";
                                submitFrm.submit();
                            });
                        }
                    });

                    $.get("http://mail.erpdom.com/rest/login/external/encrypt/getKey", function(data){
                    	console.log(data);
                    	
                    	$.get("http://mail.erpdom.com/rest/login/external/ERP/ApprDoc/getEncData", {
                    		encodeKey : data.encodeKey,
                    		indexKey :  data.indexKey,
                    		indexIv :  data.indexIv,
                    		
                    		jsonData : JSON.stringify(frmObj)
                    	}).done(function(paramData){
                    		console.log(paramData);
                    		
                    		var paramObj = JSON.parse(paramData);
                    		console.log(paramObj);
                    		submitFrm.sessionKeyId.value =  data.sessionKeyId;
                    		submitFrm.jsonData.value = paramObj.encData;
                    		submitFrm.method = "POST";
                    		submitFrm.action  = "http://mail.erpdom.com/rest/login/external/ERP/ApprDoc/page";
                    		submitFrm.target  = "_new";
                    		submitFrm.submit();
                    	});

                    });
                    
                });
                */
                
                
                _els.btnSend.click(function(event){
                    var frm = document.ws_erp_if;
                    console.log("FFFFFFFFF");
                    var frmArry = $("#ws_erp_if").serializeArray();
                    var frmObj = {AP_DOC_INFO : {}};
                    $.each(frmArry,function(i, v) {
                        frmObj.AP_DOC_INFO[v.name] = v.value;
                    });
                    
                    console.log(JSON.stringify(frmObj));
                    frm.jsonData.value = JSON.stringify(frmObj);
                    frm.method = "POST";
                    frm.action  = "http://localhost:8080/rest/login/external/ERP/ApprDoc/page";
                    frm.target  = "_new";
                    frm.submit();
                });
            }
            
            this.setup = function() {
                _els.area = $("#tmpl-ws_erp-if");
                _els.btnSend = _els.area.find(".btn-send");
                _addAction();
            };
        };
        
        var erpDocCancelIF = function() {
        	var _els = {};
            var _addAction = function() {
            	
            	_els.btnSend.click(function(event){
                    var frm = document.ws_erp_docCancel_if;
                    
                    frm.jsonData.value = JSON.stringify({
                    	AP_DOC_INFO : {
                    		AP_FORM_NO : frm.AP_FORM_NO.value,
                            ID_TYPE    : frm.ID_TYPE.value,
                            LOCALE     : frm.LOCALE.value,
                    		USER_ID    : frm.USER_ID.value
                    	}
                    });
                    frm.method = "POST";
                    frm.action  = "http://localhost:8080/rest/login/external/ERP/ApprDocCancel/data";
                    frm.target  = "_new";
                    frm.submit();
                });
            	
            }
        	this.setup = function() {
                _els.area = $("#tmpl-ws_docCancel-if");
                _els.btnSend = _els.area.find(".btn-send");
                _addAction();
            };
            
        };
		
		
		$(document).ready(function() {
	        
	        var tLogin = new login();
	        tLogin.setup();
	        
	        var tErpIF = new erpIF();
	        tErpIF.setup();
	        
	        var tErpDocCancelIF = new erpDocCancelIF();
	        tErpDocCancelIF.setup();
	    });
		
		</script>

	</head>

	<body>
		<div class="wrapper">
		  <div id="content" class="page-contents"> 
            <!-- CONTENT -->
             <!-- row.. -->
            <div class="row">
                <div class="col-sm-6" id="tmpl-ws_login"> 
                  <div class="panel panel-border panel-inverse">
                      <div class="panel-heading">
                           <h3 class="panel-title">임시</h3>
                       </div>
                       <div class="panel-body">
                               <form name="ws_login" class="form-horizontal" role="form">
	                          <div class="form-group">
	                              <label class="col-md-4 control-label">로그인아이디</label>
	                              <div class="col-md-8">
	                                  <input type="text" name="loginId" class="form-control" value="">
	                              </div>
	                          </div>
	                      </form>
	                      <div class="pull-right">
                            <button class="btn btn-default btn-send"><i class="fa fa-share-square-o"></i> <span>전송</span>  </button>
                        </div>
                       </div>
				</div>
			   </div>
			   <div class="col-sm-6" id="tmpl-ws_erp-if"> 
                  <div class="panel panel-border panel-pink">
                      <div class="panel-heading">
                            <h3 class="panel-title">ERP(결재)</h3>
                        </div>
                        <div class="panel-body">
                          <form id="ws_erp_if_submit" name="ws_erp_if_submit" class="form-horizontal" role="form">
                            <input type="hidden" name="jsonData">
                            <input type="hidden" name="sessionKeyId">
                          </form>
                           <form id="ws_erp_if" name="ws_erp_if" class="form-horizontal" role="form">
                              
                              <input type="hidden" name="jsonData">
                              <input type="hidden" name="reqDataType" value="json">
                              <input type="hidden" name="ID_TYPE" value="A">
                              <div class="form-group">
                                  <label class="col-md-4 control-label">로그인아이디</label>
                                  <div class="col-md-8">
                                      <input type="text" name="USER_ID" class="form-control" value="1961004">
                                  </div>
                              </div>
                              <div class="form-group">
                                  <label class="col-md-4 control-label">언어</label>
                                  <div class="col-md-8">
                                      <select id="langList" class="form-control input-sm" name="LOCALE">
	                                      <option value="ko">한국어</option>
	                                      <option value="en">English</option>
	                                      <option value="zh">汉语</option>
	                                      <option value="vn">tiếng Việt</option>
                                      </select>
                                  </div>
                              </div>
                              
                              <div class="form-group">
                                  <label class="col-md-4 control-label">제목</label>
                                  <div class="col-md-8">
                                      <input type="text" name="DOC_TITLE" class="form-control" value="">
                                  </div>
                              </div>
                              <div class="form-group">
                                  <label class="col-md-4 control-label">ERP FORM NO</label>
                                  <div class="col-md-8">
                                      <input type="text" name="AP_FORM_NO" class="form-control" value="">
                                  </div>
                              </div>
                              <div class="form-group">
                                  <label class="col-md-4 control-label">Call Url</label>
                                  <div class="col-md-8">
                                      <input type="text" name="CALL_OUT_URL1" class="form-control" value="http://10.10.0.218/U2000_Default/Services/Common/ApprovalGWFL.asmx/ReceiveApproval?DB=UNIERP55N">
                                  </div>
                              </div>
                              <div class="form-group">
                                  <label class="col-md-4 control-label">긴급여부</label>
                                  <div class="col-md-8">
                                      <select class="form-control" name="IS_URGENT"><option value="Y">Y</option><option value="N">N</option></select>
                                  </div>
                              </div>
                              <div class="form-group">
                                  <label class="col-md-4 control-label">문서보존기간</label>
                                  <div class="col-md-8">
                                      <select class="form-control" name="KEEP_YEAR">
                                        <option value="1">1년</option>
                                        <option value="3">3년</option>
                                        <option value="5">5년</option>
                                        <option value="10">10년</option>
                                        <option value="99">영구</option>
                                      </select>
                                  </div>
                              </div>
                              <div class="form-group">
                                  <label class="col-md-4 control-label">본문내용</label>
                                  <div class="col-md-8">
                                      <textarea class="form-control" rows="5" name="DOC_CONTENTS"></textarea>
                                  </div>
                              </div>
                          </form>
                          <div class="pull-right">
                            <button class="btn btn-default btn-send"><i class="fa fa-share-square-o"></i> <span>전송</span>  </button>
                        </div>
                       </div>
                    </div>
               </div>
			 </div>
			 <!-- end row.. -->
			 <!-- row.. -->
            <div class="row">
                <div class="col-sm-6" id="tmpl-appr_link"> 
                  <div class="panel panel-border panel-success">
                      <div class="panel-heading">
                           <h3 class="panel-title">결재 링크</h3>
                       </div>
                       <div class="panel-body">
                              <a href="http://localhost:8080/rest/login/external/GW/ApprDocLink/page?userUid=U21&locale=ko&docId=APP2016070710270667910037NCS4hdYB8Z&lineOrder=1&apprRole=APPR">* 문서함 바로가기</a>
                       </div>
                </div>
               </div>
               <div class="col-sm-6" id="tmpl-ws_docCancel-if"> 
                  <div class="panel panel-border panel-pink">
                      <div class="panel-heading">
                            <h3 class="panel-title">ERP(결재 상신 취소)</h3>
                        </div>
                        <div class="panel-body">
                            <form id="ws_erp_docCancel_if" name="ws_erp_docCancel_if" class="form-horizontal" role="form">
                                  
	                              <input type="hidden" name="jsonData">
	                              <input type="hidden" name="reqDataType" value="json">
	                              <input type="hidden" name="ID_TYPE" value="B">
	                              
	                              <div class="form-group">
	                                  <label class="col-md-4 control-label">로그인아이디</label>
	                                  <div class="col-md-8">
	                                      <input type="text" name="USER_ID" class="form-control" value="1961004">
	                                  </div>
	                              </div>
	                              <div class="form-group">
	                                  <label class="col-md-4 control-label">언어</label>
	                                  <div class="col-md-8">
	                                      <select id="langList" class="form-control input-sm" name="LOCALE">
	                                          <option value="ko">한국어</option>
	                                          <option value="en">English</option>
	                                          <option value="zh">汉语</option>
	                                          <option value="vn">tiếng Việt</option>
	                                      </select>
	                                  </div>
	                              </div>
	                              <div class="form-group">
	                                  <label class="col-md-4 control-label">ERP FORM NO</label>
	                                  <div class="col-md-8">
	                                      <input type="text" name="AP_FORM_NO" class="form-control" value="">
	                                  </div>
	                              </div>
                            </form>
                            <div class="pull-right">
                                <button class="btn btn-default btn-send"><i class="fa fa-share-square-o"></i> <span>전송</span>  </button>
                            </div>
                        </div>
                       </div>
                    </div>
               </div>
             </div>
             <!-- end row.. -->
			 <!-- end contents( .. -->
		    </div>
		</div>
	</body>
</html>